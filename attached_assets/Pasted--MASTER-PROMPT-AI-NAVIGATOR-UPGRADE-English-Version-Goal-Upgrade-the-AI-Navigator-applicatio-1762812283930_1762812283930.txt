ğŸš€ MASTER PROMPT â€“ AI NAVIGATOR UPGRADE (English Version)

Goal:
Upgrade the AI Navigator application into an intelligent, multimodal navigation system that combines all modern features available today.

â¸»

Main Features
	1.	ğŸš— Navigation for All Transport Modes
	â€¢	Car, bicycle, walking, train, bus, metro, electric scooter.
	â€¢	Automatic switching based on movement (AI detects speed and suggests transport mode).
	2.	ğŸ§­ Smart Routing and AI Guidance
	â€¢	Use Mapbox Directions API and Mapbox Geocoding API.
	â€¢	Let AI automatically calculate the fastest, shortest, or most eco-friendly route.
	â€¢	Provide a user interface to select: â€œFastestâ€, â€œShortestâ€, or â€œEco routeâ€.
	3.	âš ï¸ Speed Cameras and Speed Limits
	â€¢	Integrate a radar detection system (via OpenStreetMap data or public radar APIs).
	â€¢	Display radar icons ğŸš¨ on the map.
	â€¢	When exceeding the speed limit, show both visual and audio warnings:
â€œâš ï¸ Speed limit exceeded! Radar detected 300m ahead.â€
	4.	ğŸ—ºï¸ Weather Conditions and Road Status
	â€¢	Fetch real weather data (OpenWeather API).
	â€¢	AI suggests alternate routes when conditions are poor (snow, rain, or road closure).
	5.	ğŸ™ï¸ Voice Assistant and Alerts
	â€¢	Add an AI voice guidance feature (â€œTurn left in 200 metersâ€).
	â€¢	Include warnings for radars, overtaking, rain, and traffic jams.
	6.	ğŸ”‹ ECO Mode
	â€¢	AI estimates fuel or battery consumption and suggests optimal driving behavior.
	7.	ğŸ“ Route History and Favorites
	â€¢	Save past routes, frequently visited locations, and driving statistics (time, distance, average speed).
	8.	ğŸ§  AI Analytics and Suggestions
	â€¢	The AI learns user habits and suggests routes based on past trips and current weather.

â¸»

Technical Implementation
	â€¢	Use Mapbox GL JS for the interactive map.
	â€¢	Use Mapbox Directions API and Geocoding API.
	â€¢	Add support for Web Speech API for voice output.
	â€¢	Integrate radar data from OpenStreetMap or other radar APIs.
	â€¢	Use async functions and real-time updates (e.g., fetch, setInterval for warnings).
	â€¢	Add icons, sounds, and alerts to the frontend (Tailwind + React hooks).

â¸»

Final Goal

Create the most advanced AI-powered navigation system in the world with:
	â€¢	Radar detection
	â€¢	Speed and weather alerts
	â€¢	Intelligent multimodal route selection

After the upgrade is complete, test the following:
	â€¢	Map moves correctly when entering a destination.
	â€¢	AI calculates routes for all transport modes.
	â€¢	Radar detection and alerts function properly.

If anything is missing, automatically add whatever enhances the user experience.

â¸»

Simplified Vision

This navigation app should combine:
	â€¢	Google Maps + Waze + Tesla Autopilot style ğŸš˜
	â€¢	Radar detection ğŸš¨
	â€¢	AI-powered alerts and suggestions ğŸ§ 
	â€¢	Multimodal travel (car, train, walkingâ€¦)

â¸»

APPLICATION OBJECTIVE

Upgrade the existing AI Navigator into a cutting-edge AI navigation platform that supports:
	â€¢	Multiple travel modes (car, walk, bike, public transport)
	â€¢	Smart location search
	â€¢	Radar and speed limit warnings
	â€¢	AI assistant for travel-related questions
	â€¢	Voice navigation
	â€¢	Weather, traffic, and safety alerts
	â€¢	Favorites and travel history

The app already uses React + Vite + Mapbox (+ Leaflet or Mapbox GL JS) and OpenAI API.
Your Mapbox key is stored in VITE_MAPBOX_TOKEN, and your OpenAI key in OPENAI_API_KEY.

â¸»

1. MULTIMODAL NAVIGATION
	1.	Add transport mode selection (segment buttons at the top of the map):
	â€¢	Car ğŸš—
	â€¢	Bike ğŸš²
	â€¢	Walk ğŸš¶
	â€¢	Transit ğŸš† (use â€œdriving-trafficâ€ temporarily until full public transit integration is added).
	2.	Use Mapbox Directions API for route calculations:
	â€¢	Car â†’ driving-traffic
	â€¢	Walking â†’ walking
	â€¢	Cycling â†’ cycling
	3.	Logic:
	â€¢	User enters destination
	â€¢	Selects transport mode
	â€¢	Clicks â€œStart navigationâ€ â†’ map draws route and displays turn-by-turn instructions
	4.	Add dynamic recalculation:
	â€¢	When user moves start marker
	â€¢	Changes transport mode
	â€¢	Changes destination

â¸»

2. SMART SEARCH (Geocoding + Autocomplete)
	â€¢	Use Mapbox Geocoding API for location search.
	â€¢	Show autocomplete suggestions while typing.
	â€¢	Center map on selected location.
	â€¢	On Enter key â†’ use first suggestion if available.
	â€¢	Display error banner if geocoding fails:
â€œSearch error â€“ location not found or geocoding failed.â€

â¸»

3. RADARS AND SPEED LIMITS
	1.	Add radar and speed limit module:
	â€¢	Create TypeScript types: { id, position, speedLimit, direction, source }.
	2.	For now, create mock/demo radar data (e.g., San Francisco or Zurich) in
src/data/speedCameras.ts.
	3.	Display radar icons ğŸš¨ using Mapbox markers or symbol layers.
	â€¢	Tooltip shows â€œSpeed camera â€“ 80 km/hâ€.
	4.	Implement radar detection logic:
	â€¢	If route passes within 200â€“300m of a radar â†’ trigger visual and voice alert:
â€œAttention, radar ahead. Reduce speed to [X] km/h.â€
	5.	Keep the structure ready to replace mock data with live API (OSM or radar feeds).

â¸»

4. SPEED LIMIT AND SAFE SPEED
	â€¢	Display current speed limit on HUD overlay: â€œSpeed limit: X km/hâ€.
	â€¢	Add AI safety assistant that suggests safe speed depending on weather and road type.
Example: â€œRecommended safe speed: 90 km/h (rain, highway).â€

â¸»

5. WEATHER AND TRAFFIC
	â€¢	Integrate OpenWeather API (use .env â†’ WEATHER_API_KEY).
	â€¢	Show live conditions (rain, snow, fog, temperature).
	â€¢	If bad weather â†’ AI suggests alternative safer route.
	â€¢	Display real-time traffic data via driving-traffic color coding (green, yellow, red).

â¸»

6. VOICE NAVIGATION
	â€¢	Use Web Speech API (SpeechSynthesis) for voice guidance.
	â€¢	Central function speak(text: string) handles navigation prompts.
	â€¢	Add toggle in settings to enable/disable voice.
	â€¢	Examples:
	â€¢	â€œNavigation started. Distance [X] km, ETA [Y] minutes.â€
	â€¢	â€œTurn left in [X] meters onto [Street Name].â€
	â€¢	â€œRadar ahead, speed limit [X] km/h.â€
	â€¢	Fallback: if unsupported, show message: â€œVoice guidance not supported in this browser.â€

â¸»

7. AI ASSISTANT PANEL
	â€¢	Integrate OpenAI chat assistant (â€œAI Navigator Assistantâ€) in sidebar.
	â€¢	Users can ask:
	â€¢	â€œFastest route between X and Y?â€
	â€¢	â€œWhere are gas stations along my route?â€
	â€¢	â€œWhatâ€™s the weather at my destination?â€
	â€¢	â€œAre there any radars on the way?â€
	â€¢	Assistant accesses route, weather, and radar data.
	â€¢	Answers must be concise, natural, and context-aware.

â¸»

8. FAVORITES AND HISTORY
	â€¢	Add Favorites & History module:
	â€¢	Favorites (Home, Work, Gym, etc.)
	â€¢	History (last n routes with date, distance, duration, mode).
	â€¢	Store in localStorage initially, with scalable TypeScript structure (future DB-ready).
	â€¢	In UI:
	â€¢	â€œFavoritesâ€ â†’ click to set as destination.
	â€¢	â€œHistoryâ€ â†’ click to reload route.

â¸»

9. SETTINGS

Add a â€œSettingsâ€ panel allowing toggles for:
	â€¢	Voice navigation
	â€¢	Radar display
	â€¢	Overspeed warnings
	â€¢	Eco mode
	â€¢	UI language (support EN/SL basic localization structure)

â¸»

10. TECHNICAL GUIDELINES
	â€¢	Maintain React + Vite + TypeScript structure.
	â€¢	Never hardcode API keys â€” always use import.meta.env.
	â€¢	Organize code modules:
	â€¢	services/mapbox/*
	â€¢	services/weather/*
	â€¢	services/radar/*
	â€¢	components/navigation/*
	â€¢	Add error handling, toasts, and loading states.
	â€¢	Include basic comments and simple tests for radar/geocoding logic.

â¸»

11. FINAL STEPS
	1.	Implement all described features.
	2.	Comment key parts of the code for clarity.
	3.	Test at least two routes (car + walking):
	â€¢	Map center on input
	â€¢	Route display + turn-by-turn navigation
	â€¢	Radar visualization + warnings
	â€¢	AI chat responses
	â€¢	History & favorites
	4.	If anything is missing or not working, fix and optimize automatically.

Follow best practices for clean code, responsive UI, and professional UX â€” as if developing a commercial-grade product.
